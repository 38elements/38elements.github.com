---
layout: posts
title: NumPyメモ
---
[numpy.cumsum()](https://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.cumsum.html)  
配列の値を積算した配列を返す  

[numpy.searchsorted(a, v, side='left', sorter=None)](https://docs.scipy.org/doc/numpy-1.10.0/reference/generated/numpy.searchsorted.html)  
指定した値はソート済み配列のどこに入るか  
<br>

```
data = numpy.array([1,2,3])
data * 10
# [10, 20, 30]
data + data
# [2, 4, 6]
data.shape
# [1, 3]
a = numpy.array([[1,2,3], [4,5,6]])
a * a
# [[1, 4, 9], [16, 25, 36]]
a - a
# [[0, 0, 0], [0, 0, 0]]
1 / a
# [[1, 0.5, 0.333], [0.25, 0.2, 0.1666]]


# スライス
# 下記2つは同じ
a[0][1]
a[0, 1]
a[0] = 7
a
# [[7,7,7], [4,5,6]]
b = numpy.arange(10)
# [0,1,2,3,4,5,6,7,8,9]
b[1:3]
# [1,2]
b[1:3] = 99
# 元のデータを上書きしている。（ブロードキャスト）
# [0,99,99,99,4,5,6,7,8,9]
# NumPyのスライスはコピーではない
# コピーしたい場合は下記のようにする
c = numpy.array([[1,2,3], [4,5,6], [7,8,9]])
c[1:2, 0:2]
# [4, 5]
c[1:2, 0:2] = 0


# booleanの配列で抜き出す
# 抜き出す出された値は参照ではなくコピー
d = numpy.arange(5)
# [0,1,2,3,4]
e = d > 2
# [False,False,False,True,True]
d[e]
# [3, 4]
f = numpy.arange([[0,1,2,3,4], [5,6,7,8,9], [21,22,23,24,25]])
f[numpy.array([False, True, True]), e]
# [[8, 9], [24, 25]]
# &や|でandやorをあらわす
g = (d > 1) & (d < 4)

# キャスト
data.dtype
# dtype(int64)
data.astype('float64')
data.dtype
# dtype(float64)
data.astype(foo.dtype)
data.astype(numpy.int64)


# 配列の生成
numpy.zeros((2, 3))
numpy.empty((2, 3))
numpy.arange(5)


# 配列の次元数を返す
data = numpy.array([[[1]]])
data.ndim
# 3
```
